<!DOCTYPE html>
<html lang="en">
  <body>
    <h1 class="header">Hello, Protocol</h1>
    <button onclick="fetchData()">백엔드 통신 경험하기</button
    ><button onclick="errorHandling()">백엔드 에러 경험하기</button>
  </body>
  <script>
    const headerEl = document.querySelector('.header');
    const fetchData = () => {
      fetch('http://localhost:4000/request') //자바가 기본적으로 제공하는 통신용 메서드
        .then((res) => {
          return res.json();
        })
        .then((data) => {
          console.log(data);
          headerEl.innerHTML = data;
        });
    };
    async function errorHandling() {
      try {
        const res = await fetch('http://localhost:4000/error');
        const data = await res.json();
        console.log(data);
        headerEl.innerHTML = data;
      } catch (err) {
        console.log(err);
      }
    }
  </script>
</html>
